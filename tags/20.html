<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://fangtang.net/tags/20.html"><title>标签: typecho | 方糖博客</title><meta name="description" content="方糖博客标签: typecho"><script>
      const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      document.documentElement.classList.toggle('dark', theme === 'dark');
    </script><link rel="stylesheet" href="/_astro/_slug_.D6w0NibI.css"><script type="module" src="/_astro/page.V2R8AmkL.js"></script></head> <body class="min-h-screen bg-white dark:bg-dark text-gray-900 dark:text-gray-100 transition-colors flex flex-col"> <header class="sticky top-0 z-50 bg-white/80 dark:bg-dark/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800"> <div class="max-w-3xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between"> <a href="/" class="text-xl font-bold hover:text-primary">方糖博客</a> <nav class="hidden md:flex items-center gap-4"> <a href="/" class="hover:text-primary">首页</a> <div class="relative group"> <button class="hover:text-primary flex items-center gap-1">分类 <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <div class="absolute left-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50"> <a href="/say.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">说说</a> <a href="/it.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">IT 技术</a> <a href="/my.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">生活点滴</a> </div> </div> <a href="/tags.html" class="hover:text-primary">标签</a> <a href="/archive.html" class="hover:text-primary">归档</a><a href="/guestbook.html" class="hover:text-primary">留言</a><a href="/about.html" class="hover:text-primary">关于</a> <a href="/rss.xml" class="p-2 hover:text-primary" title="RSS"> <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg> </a> <a href="/search.html" class="p-2 hover:text-primary" title="搜索"> <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg> </a> <button id="theme-toggle" class="p-2 hover:text-primary" title="切换主题"> <svg id="sun-icon" class="w-5 h-5 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><path d="M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg> <svg id="moon-icon" class="w-5 h-5 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg> </button> </nav> <div class="flex md:hidden items-center gap-2"> <a href="/search.html" class="p-2 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></a> <button id="mobile-menu-btn" class="p-2 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button> </div> </div> <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-dark border-t border-gray-200 dark:border-gray-800 p-4 space-y-2 text-center"> <a href="/" class="block py-2">首页</a> <a href="/say.html" class="block py-2">说说</a> <a href="/it.html" class="block py-2">IT 技术</a> <a href="/my.html" class="block py-2">生活点滴</a> <a href="/tags.html" class="block py-2">标签</a> <a href="/archive.html" class="block py-2">归档</a><a href="/guestbook.html" class="block py-2">留言</a><a href="/about.html" class="block py-2">关于</a> </div> </header> <main class="max-w-3xl mx-auto px-4 sm:px-6 py-8 flex-1 w-full"> <div class="mb-8"> <h1 class="text-2xl font-bold mb-2">
标签: typecho </h1> <p class="text-gray-500">共 14 篇文章</p> </div> <div class="space-y-6"> <article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/567.html" class="hover:text-primary transition-colors"> 为 Typecho的代码块添加Copy按钮 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2020-03-04T05:01:21"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2020年3月4日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">由于目前我用的是Mirages主题，所以接下来的步骤也按这个主题来，当然主题不同，也只是改的地方不一样而已，相信这都不是事，要是真有事了欢迎留言哈。

先将以下代码添加到主题header.php中的&amp;lt;/head&amp;gt;标签前，或前往控制台-设置外观-主题自定义扩展（考虑到以后更新主题能够更加偷懒，建议还是放到自定义扩展中，将它添加到自定义 HTML 元素拓展-标签: head 头部 (meta 元素后)。

&amp;lt;script&amp;gt;
    // 在代码块右上角添加复制按钮
    document.addEventListener(&amp;#039;DOMContentLoaded&amp;#039;, initCodeCopyButton);
    function initCodeCopyButton() {
        function initCSS(callback) {
 ...</p> <a href="/it/567.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/565.html" class="hover:text-primary transition-colors"> Typecho 博客评论显示 UserAgent (UA) </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2020-03-04T04:50:08"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2020年3月4日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">
本篇文章纯搬运 左岸大佬 的教程，之所以搬运也是为了记录下过程，也便于以后时间长了还能再参考着折腾（没办法，文章写不出来多少，折腾这些东西无用的却是十分的来劲）废话不多说，赶紧码字+拷贝记录下来。







由于目前我用的是Mirages主题，所以接下来也按这个主题来：




将下面的样式表外链加入到/usr/themes/Mirages/component/header.php的head部分，当然也可通过主题设置界面添加，这里建议大伙把css中的图片下载到本地，以便将来…………。




&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.zrahh.com/css/comment-ua.css&quot;&amp;gt;













将以下代码加入到/usr/themes/Mirages/function.php末尾




// 获取浏览器信息
funct...</p> <a href="/it/565.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/441.html" class="hover:text-primary transition-colors"> Typecho CommentToMail邮件样式分享 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2018-04-09T03:18:05"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2018年4月9日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">刚在逛博客圈，发现有个Typecho的CommentToMail的邮件样式挺美的，虽然我现在已经入了Ghost门，但本着一种折腾不息的心理（万一哪天心情不顺又杀回Typecho呢，哈哈），于是就顺手摘录到我家宝典了，具体如下：
Guest样式
怎么样？挺美的吧，感觉比我在用Typecho时的样式美多了，喜欢就赶紧把下面的代码Down走吧：
Guest样式源码
&amp;lt;pre class=&amp;quot;wp-block-code&amp;quot;&amp;gt;```
&amp;lt;table style=width: 99.8%;height:99.8% &amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td style=background:#fafafa url(https://a.photo/images/2018/03/24/2017113018325846288465.png)&amp;gt;
 ...</p> <a href="/it/441.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/373.html" class="hover:text-primary transition-colors"> Typecho搬家后文章、后台无法打开的解决方案 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-07-11T08:13:45"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年7月11日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">说来都觉得自己有那么点无聊，当初从阿里云转到华为云，然后现在又转回去——折腾啊！搬回到阿里云，顺手把OSS也挂载了当硬盘使，这样下次再折腾就不用老是先备份下载了。老样子还是使用Oneinstack家的一键包搭建的LNMP环境（本来还想再折腾一下Ghost的，不过想想还是算了），配置好站点，然后接着导入数据库，再把博客相关文件上传到配好的目录，本以为大功造成时，结果……
不管是访问后台，还是文章，都报 Access denied ，好郁闷呀！找了度娘，没看到什么好的答案，结果在Segmentfault上找到了方法，那就是修改 php.ini ，将 cgi.fix_pathinfo 的值由 0 改为 1 ，怎么找这个文件？可以在 phpinfo.php 里看到具体的路径。修改好之后，重启PHP和nginx即可或者也可以直接重启服务器。
问题解决，可以正常使用了
...</p> <a href="/it/373.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/372.html" class="hover:text-primary transition-colors"> Typecho后台增加极验证 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-06-27T11:22:06"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年6月27日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">得空逛了一下Typecho社区，看见有后台登录验证插件，那就赶紧给自己的后台武装一下吧，省的一天到晚的裸奔（多少总会提升一点安全性吧@(你懂的)）。注册的步骤咱就不说了（不知道网址？百度搜索 极验证 ），插件之前用的是摸鱼的（下载地址：https://www.moyu.win/archives/28.html），可是我从头到尾试了好几遍也没成功过，老是显示启用中，考虑到他也是修改前者的，那我就去找前者看看吧。

先下载插件（链接: http://pan.baidu.com/s/1pLx52tX 密码: i7u5），我修改了Plugin.php，把其中一个JS文件的路径由http改为https（不改过的话，像我这种使用https 的站点会提示安全风险）
开始魔改代码了


增加/admin/geetest-code.php文件，用来返回极验服务响应数据：


        Typecho
...</p> <a href="/it/372.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/365.html" class="hover:text-primary transition-colors"> 让TYPECHO评论头像旋转方法等 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-04-08T15:04:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年4月8日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">查找当前主题下的style.css。CSS文件根据主题自行选择可能名称不符。找到以下代码：
#comments .comment-author .avatar{display:block;float:left;width:40px;height:40px;margin:1.4rem 1rem 0 0;border-radius:50%}
修改为：
#comments .comment-author .avatar{display:block;float:left;width:40px;height:40px;margin:1.4rem 1rem 0 0;border-radius:50%;transition: all 0.5s}
&amp;lt;h1&amp;gt;comments .comment-author .avatar:hover{transform:rotate(360deg)}&amp;lt;/h...</p> <a href="/it/365.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/362.html" class="hover:text-primary transition-colors"> Typecho修改后台路径留下的漏洞 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-03-26T16:20:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年3月26日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">在溜网络发现了一篇关于Typecho的重大消息——大漏洞，赶紧照着检测了一下，虽然目前没问题跳空白或404了，但看到不少网友在评论说出现了博主说的问题，那还是等重视一下，赶紧收录吧：使用Typecho几年了，之前也是看到网上一些教程，说是修改后台路径可以增加一定的安全系数，从理论上来说是对的，我也使用修改后的后台路径好多年。通过修改配置文件 config.inc.php 的后台目录:
/* 后台路径(相对路径) /
define(&#39;TYPECHO_ADMIN_DIR&#39;, &#39;/admin/&#39;);
将admin修改为其他目录，然后通过FTP将admin目录做相应的名称修改，这就完事。
如果以为这真的完事那就真的是太相信Typecho了。刚才在某群里说到wp为何不修改后台地址进行提升安全系数，有人说没多大用处。我在想，这没理由啊，我自己修改后台路径这么多年，都没见什么破解，原来是我图样图森破。通...</p> <a href="/it/362.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/my/361.html" class="hover:text-primary transition-colors"> 关于主题盗版的个人看法 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-03-26T08:29:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年3月26日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">本文以下内容非我所写，转载谨以一个购买者身份声援Hran（也就是我我使用的主题：Mirages），Hran给模板定义的价格只有50元，这在付费模板里已经算是很低了，如果你跟我一样喜欢他的模品，为何不能通过正常途径去购买下载并使用呢？不论什么模板，作者都是花了大量时间去做的，请尊重他人的劳动和成果！只有一个良性的循环，才能保证模板今后的售后等运转，国人确实有必要树立好版权意识！
原文如下：
发生了什么？
今天早上刚吃完早饭，就从 吃瓜Hran 的主题售后群里看到这样一张图片：
Migrates主题是一个非常好看的单栏Typecho主题，我几个月之前第一眼看到了就喜欢上了这个主题，花了钱购买了下，以给作者支持。详情：https://hran.me/archives/mirages-1.html
今天看到这张图，以为是Hran把主题设置成了免费，准备分享出来。但是，紧接着，发现事情不对，Hran...</p> <a href="/my/361.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/359.html" class="hover:text-primary transition-colors"> 多说评论导出到Typecho </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-03-23T05:09:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年3月23日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">相信大家都看到多说的公告了，震惊呀！真有点不敢相信会来的这么快（虽然也知道早晚的事，没有一个稳定的经济来源，哪里支撑的了呀，这么多的骚年们的折腾呀），就如评论里说的，很多人才刚折腾好，结果就……一切都来的太快，但既然来了，还是得去应对的，试了试其它的评论系统，如畅言、云跟贴、友言等，发现都没有多说那么让人折腾，看来只能想办法把多说的评论本地化了！
在网上百度了好久也没找到一个好的解决办法，最后还是在QQ爹那里得到帮助，使用插件（这个插件还是最近刚更新的，有意的……哈哈），现在就来Look一下吧：
插件的介绍及更新历史

[2017-03-23]导入评论时会对 emoji 表情做过滤，防止 MySQL 出错。


插件截图

插件下载
直接下载：Duoshuo2typecho.zip或Github下载：Duoshuo2typecho Plugin - Github
原文链接：https://...</p> <a href="/it/359.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/358.html" class="hover:text-primary transition-colors"> 折腾一下Kratos主题 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2017-03-18T14:05:09"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2017年3月18日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">前几日逛Typecho论坛，看到有朋友移植了原WP主题Kratos，看看挺喜欢的（其实是有点想念WP时用过的9IPHP主题了，能力有限移植不了），那就耍耍呗，换掉Hran的Mirages主题（不知道Hran童鞋会不会有意见呀），下载并上传，接着设置主题然后又…………（每次换主题都做着这些重复的事），大致还是OK的，就是有一些地方需要修改一下，先亮一下修改后的：
my_uu126_01.jpg
封面上修改的不多，主要的不是在内容页上，增加了文章二维码，打赏，另外对代码高亮进行了美化，对文章页广告代码小修改，自认为比原先的要好看。
打赏
网上找的我也只是略略修改一下，新建一个ds.js文件，内容如下：
(function($){
    var id = Date.now();
...</p> <a href="/it/358.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/349.html" class="hover:text-primary transition-colors"> Typecho无法上传图片或附件的解决办法 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2016-12-23T06:31:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2016年12月23日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">之前说了最近比较“懒”，好久没更新博客了，昨天在更新时发现博客出了问题——不能上传图片或附件（这不炸锅了……），今天抽个空得赶紧解决呀！用Winscp对比看过了博客（本站使用的是Typecho）所有目录，感觉也没什么问题呀，随后又找度娘了解了一下，也没找到什么好的答案，都是改权限的事，什么把usr、upload等改成777（读写权限），感觉没必要呀，而且777的权限太大了，个人觉得不安全，一般目录有775的权限就可以了。想来想去，突然想起来前些天把Typecho版本升级了一下，下载了官网的最新版（目前最新版只有Beta版的，正式版还没发布），升级过之后，我倒是测试过博客可以正常访问的，加上后来自己“偷懒”了，没更新博客所以也就没发现不能上传的故障。
既然是Beta版的，就有可能会有些Bug，还是先恢复回去试试吧，因为上次更新时并没有直接把相关文件删除掉，而是另建了一个目录保留了起来，所以也...</p> <a href="/it/349.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/346.html" class="hover:text-primary transition-colors"> Typecho 升级到最新版本以支持表格喽 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2016-12-09T13:55:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2016年12月9日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">前言
今天群里有同学提到 typecho 最新版本已经有 1.1-beta 版本可用，而且 typecho 最新版本支持更丰富的 markdown 语法（泪流满面的发现支持了表格！）。那么问题来了，如何升级到 typecho 的最新版本代码？如果有同学改动了源码又如何处理？升级到最新版本
官方网站已经有详细的说明，这里稍微总结如下：

下载

首先，下载最新的版本代码，那么这里就有两个地方可以下载：第一个是官方的打包版本下载地址第二个是一般开源的东西会在 github 上有一份源码，在那里往往可以找到最新的版本也就是 typecho 的 beta 版本或者 typecho 的 pre-release。如果后者存在则建议下载后者，不过想尝鲜的同学不妨下载 beta 版本，比如刚刚放出的 typecho-1.1-beta 版本就有劲爆的 markdown 功能，估计可以俘获很多站长的心。1、删...</p> <a href="/it/346.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/339.html" class="hover:text-primary transition-colors"> Typecho下使用多说显示UA信息 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2016-11-28T12:21:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2016年11月28日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">记得在使用Wordpress时，给评论加过UA（访问者信息，如系统、浏览器等），比较简单只需要使用相应的插件即可，随着自己的博客改用Typecho后，原来的这些插件也就用不了，但也不能阻挡我那股折腾的心呀，现在博客使用的是多说的评论系统，网上看了一下教程还是蛮多的，但大部分是针对Wordpress的，虽然都是PHP架构的，还是要亲身体验过才知道好不好用。试了很多位博主的办法都不行（可能是俺功力还不够吧），不过也还是让俺给找到了，并且测试过好用，目前本站已经用上了，需要看效果的可以自己评论一下就可是看到了，好了，开始分享工作：
1、先下载多说的embed.js文件，多说现在对Https的支持已经有所改观了，可以下载：https://static.duoshuo.com/embed.js
2、下载好后，打开编辑（本人不建议使用记事本，可以使用Notepad等软件，也方便），在最前面加入以下代码...</p> <a href="/it/339.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article><article class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-6 hover:shadow-lg transition-shadow"> <h2 class="text-xl font-bold mb-2"> <a href="/it/338.html" class="hover:text-primary transition-colors"> 给Typecho后台添加图片验证 </a> </h2> <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"> <time datetime="2016-11-27T13:15:00"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2016年11月27日 </time> </div> <p class="text-gray-600 dark:text-gray-300 line-clamp-6">Typecho比之Wordpress的确比较轻巧，使用起来也比较容易上手，唯一的不足就是使用人群少，相对的主题、插件、教程要比Wordpress少，但却丝毫不影响我使用。使用Typecho有段时间了，平常写写小博客那是绰绰有余，就是感觉这后台登录是不是缺了点什么，虽然可以自定义后台路径，可感觉还是得纶它加点什么，哪怕只是那点小验证，那就动手吧。也说一下Typecho，ypecho有很好的路由机制，并且MVC模型模块化做的很好。系统代码在/var/中，包括了：Widget工具，Typecho模型等。开发者二次开发代码在/usr/中，主要放置Theme主题，Plugins插件等。添加验证码不能用插件形式，因此只能直接在源码中更改。在Wordpress的时候俺就用过极验证，东西不错挺好的，但免费版不支持Https，所以只能作罢（心里作用还吧，呵呵），那么就用php生成图片的验证方法。
1、修改前...</p> <a href="/it/338.html" class="inline-flex items-center mt-3 text-primary hover:underline">
阅读全文
<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> </a> </article> </div> </main> <footer class="border-t border-gray-200 dark:border-gray-800 py-8 text-center text-gray-500 text-sm"> <p>&copy; 2012-2026 方糖博客 · 基于 Astro + WordPress</p> <p><span class="mobile-hide"> <a href="https://icp.gov.moe/?keyword=20229988" target="_blank">萌ICP备20229988号</a> · 托管于：<a href="https://hostdzire.com/billing/index.php" target="_blank" rel="nofollow"> HostDZire </a> · 使用<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank" rel="nofollow"> 又拍云 </a></span></p> </footer> <button id="back-to-top" style="display: none;" class="fixed bottom-8 right-8 w-12 h-12 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all z-50 items-center justify-center"> <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg> </button> <script>
      (function() {
        const themeToggle = () => {
          const isDark = document.documentElement.classList.toggle('dark');
          localStorage.setItem('theme', isDark ? 'dark' : 'light');
          updateIcons();
        };
        const updateIcons = () => {
          const isDark = document.documentElement.classList.contains('dark');
          const sun = document.getElementById('sun-icon');
          const moon = document.getElementById('moon-icon');
          if (sun) sun.classList.toggle('hidden', !isDark);
          if (moon) moon.classList.toggle('hidden', isDark);
        };
        document.getElementById('theme-toggle')?.addEventListener('click', themeToggle);
        updateIcons();
        document.getElementById('mobile-menu-btn')?.addEventListener('click', () => document.getElementById('mobile-menu')?.classList.toggle('hidden'));
        const btt = document.getElementById('back-to-top');
        if (btt) {
          window.addEventListener('scroll', () => {
            if (window.innerWidth >= 768 && window.pageYOffset > 300) btt.style.display = 'flex';
            else btt.style.display = 'none';
          });
          btt.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      })();
    </script> </body> </html>